{
    "sourceFile": "src/pages/body/Body.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 5,
            "patches": [
                {
                    "date": 1770045352220,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1770045382789,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,9 @@\n \r\n   //Busca o tipo usuario\r\n   const letterUser = data?.userData?.dados?.Login.tipo || \"\"\r\n   //Verifica se o tipo do login foi M, caso tenha sido imprime na tela M apos o id master\r\n-  const userLetter = letterUser === \"M\" ? \"M\" : \"C\"\r\n+  const userLetter = letterUser === \"M\" ? \"M\" : \"U\"\r\n \r\n   //Definindo o nome de login que será exibido\r\n   let nameLogin;\r\n   if (letterUser === \"M\") {\r\n"
                },
                {
                    "date": 1770045420542,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,9 +82,9 @@\n   //Definindo o nome de login que será exibido\r\n   let nameLogin;\r\n   if (letterUser === \"M\") {\r\n     nameLogin = data?.userData?.dados?.empresa;\r\n-  } else if (letterUser === \"C\") {\r\n+  } else if (letterUser === \"U\") {\r\n     nameLogin = data?.userData?.dados?.Unidade?.Fantasia;\r\n   } else {\r\n     nameLogin = \"Tipo de login não suportado\";\r\n   }\r\n"
                },
                {
                    "date": 1770060623093,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,296 @@\n+//importações React\r\n+import { BrowserRouter, Routes, Route } from \"react-router-dom\";\r\n+import { useEffect, useRef, useState } from \"react\";\r\n+\r\n+//Importação de estilos\r\n+import \"../../assets/css/thead.css\";\r\n+import \"../../assets/css/themify-icons.css\"\r\n+import \"./Body.css\"\r\n+\r\n+//Importação de componentes\r\n+import Sidebar from \"../../components/sidebar/Sidebar\";\r\n+import ContainerPrincipal from \"../../components/container/ContainerPrincipal\";\r\n+import ContainerSecundario from \"../../components/container/ContainerSecundario\";\r\n+import DropdownInfo from \"../../components/dropdown/DropdownInfo\";\r\n+import ModalCam from \"../../components/modal/ModalCam\";\r\n+import { useGetData } from \"../../services/useGetData\";\r\n+import { usePostNotifications } from \"../../services/usePostNotifications\";\r\n+import { LojistaProvider } from \"../../hooks/LojistaProvider\";\r\n+import LojistaLayout from \"../../hooks/LojistaLayout\";\r\n+\r\n+\r\n+//Importação de páginas\r\n+import RegistrarVenda from \"../lojista/vendas/RegistrarVenda\"\r\n+import Home from \"../home/Home\";\r\n+import Lojista from \"../lojista/Lojista\"\r\n+import GestaoEstoque from \"../estoque/GestaoEstoque\";\r\n+import Administracao from \"../administracao/Administracao\"\r\n+import LiberarVeiculo from \"../administracao/movimentacoes/LiberarVeiculo\";\r\n+import BaixarVeiculo from \"../administracao/movimentacoes/BaixarVeiculo\";\r\n+import HistoricoVeiculo from \"../administracao/historico/HistoricoVeiculo\";\r\n+import RelatoriosMovimentacao from \"../administracao/movimentacoes/RelatoriosMovimentacao\";\r\n+import RelatorioEstoque from \"../estoque/gestao/RelatorioEstoque\";\r\n+import CadastroVeiculoBIN from \"../estoque/gestao/CadastroVeiculoBIN\";\r\n+import CadastroVeiculo from \"../estoque/gestao/CadastroVeiculo\";\r\n+import EditarDado from \"../estoque/gestao/EditarDado\";\r\n+import ConsultarVenda from \"../lojista/vendas/ConsultarVenda\";\r\n+import SolicitarLiberacao from \"../lojista/movimentacoes/SolicitarLiberacao\";\r\n+import CadastrarVendedor from \"../lojista/vendas/CadastrarVendedor\";\r\n+import Dashboard from \"../administracao/dashboard/Dashboard\";\r\n+import HistoricoAcessos from \"../administracao/historico/HistoricoAcessos\";\r\n+import CadastroLoja from \"../administracao/lojista/CadastroLoja\";\r\n+import CadastroFinanceira from \"../administracao/lojista/CadastroFinanceira\";\r\n+import TestAuthComponent from \"../../Test/TestAuthComponent\";\r\n+import EstoqueLoja from \"../lojista/estoque/EstoqueLoja\";\r\n+\r\n+\r\n+//Hook de teste\r\n+/* import { useGetTest } from \"../../services/useGetTest\"; */\r\n+\r\n+\r\n+function Body() {\r\n+  // const [ativRecente, setAtivRecente] = useState(false)\r\n+  const [showSidebar, setShowSidebar] = useState(true);\r\n+  const [dropdownAtivado, setDropdownAtivado] = useState('')\r\n+\r\n+  const navRef = useRef(null)\r\n+\r\n+  //Pega dados do usuário\r\n+  const { data } = useGetData(\"/auth/session-info\")\r\n+  console.log(\"Dados do usuário: \", data)\r\n+\r\n+  /* //Pega dados do usuário - Teste\r\n+  const { data } = useGetTest(\"/auth/session-info\")\r\n+  console.log(\"Dados do usuário: \", data)*/\r\n+\r\n+  const API_BASE_URL = import.meta.env.VITE_API_BASE_URL; //Alterar apos o teste para VITE_API_BASE_URL_TEST\r\n+\r\n+\r\n+  //Pega notificações\r\n+  const { pendencias, consultas } = usePostNotifications(600000)\r\n+  console.log(\"Pendências: \", pendencias)\r\n+  console.log(\"Consultas: \", consultas)\r\n+\r\n+  //Busca o id do usuário master\r\n+  const idUser = data?.userData?.dados?.Master.Codigo || \"\"\r\n+\r\n+  //Busca o tipo usuario\r\n+  const letterUser = data?.userData?.dados?.Login.tipo || \"\"\r\n+  //Verifica se o tipo do login foi M, caso tenha sido imprime na tela M apos o id master\r\n+  const userLetter = letterUser === \"M\" ? \"M\" : \"U\"\r\n+\r\n+  //Definindo o nome de login que será exibido\r\n+  let nameLogin;\r\n+  if (letterUser === \"M\" ||\"C\") {\r\n+    nameLogin = data?.userData?.dados?.empresa;\r\n+  } else if (letterUser === \"U\") {\r\n+    nameLogin = data?.userData?.dados?.Unidade?.Fantasia;\r\n+  } else {\r\n+    nameLogin = \"Tipo de login não suportado\";\r\n+  }\r\n+\r\n+  //Buscando o id do lojista quando ele existe\r\n+  const idLojista = data?.userData?.dados?.Unidade?.Codigo_sub\r\n+\r\n+  const emailUser = data?.userData?.dados?.Master.Email\r\n+\r\n+\r\n+  //Alterna dropdown\r\n+  const handleDropdown = (value) => {\r\n+    setDropdownAtivado((prev) => (prev === value ? \"\" : value))\r\n+  }\r\n+\r\n+  //Fecha o dropdown ao clicar fora\r\n+  useEffect(() => {\r\n+    function handleClickOutside(event) {\r\n+      if (navRef.current && !navRef.current.contains(event.target)) {\r\n+        setDropdownAtivado(\"\");\r\n+      }\r\n+    }\r\n+    document.addEventListener(\"mousedown\", handleClickOutside);\r\n+    return () => { document.removeEventListener(\"mousedown\", handleClickOutside) };\r\n+  }, [setDropdownAtivado]);\r\n+\r\n+\r\n+\r\n+  const toggleSidebar = () => {\r\n+    setShowSidebar(!showSidebar);\r\n+  }\r\n+\r\n+  return (\r\n+    <ContainerPrincipal className=\"container-principal\" >\r\n+      <header className=\"navbar navbar-expand-lg d-flex align-items-center \" id=\"barra_navegacao\">\r\n+        <div className=\"container-fluid\">\r\n+          {/*Responsável pelo icone que aciona a barra lateral */}\r\n+          <button className=\"navbar-brand icon-bg p-0\" onClick={toggleSidebar} > <i className=\"ti ti-menu\" id=\"botao_menu\" /> </button>\r\n+          { /*Buscar endpoints para variação de usuarios */}\r\n+          <h1 className=\"page-title\">\r\n+            {nameLogin}\r\n+            <span className=\"id-logado\">ID - {idUser} {idLojista} - {userLetter}</span>\r\n+          </h1>\r\n+        </div >\r\n+        <div className=\"d-flex justify-content-end\" ref={navRef}>\r\n+          <div className=\"p-2\">\r\n+           {pendencias.length > 0 && (\r\n+              <span className=\"badge badge-warning\" id=\"avisos_pendencias\">\r\n+                {pendencias.length}\r\n+              </span>\r\n+            )}\r\n+            <DropdownInfo dropInfo={\"avisos\"} iconClass={\"ti ti-email\"} idDrop={\"alertDropdown\"} value=\"mensagens\"\r\n+              isOpen={dropdownAtivado === \"mensagens\"} onToggle={() => handleDropdown(\"mensagens\")} styleIcon={\"icon_message\"}>\r\n+              <div className=\"notification-header\">\r\n+                <p>MENSAGENS</p>\r\n+              </div>\r\n+              <div className=\"notificationSpace\">\r\n+                <ul className=\"lista_mensagens\">\r\n+                  {pendencias.length > 0 && (\r\n+                    pendencias.map((p) => (\r\n+                      <li key={p.id} className=\"mensagem_individual\">\r\n+                        <div className=\"mensagem-alerta\">\r\n+                          <span className=\"icone-alerta\"><i className=\"ti ti-alert\" id=\"icone_alerta\" /></span>\r\n+                          <a className=\"link_pendencias\" href=\"https://ambteste.credtudo.com.br/painel/Agendamento/alertas  \">\r\n+                            <div className=\"mensagem-texto\">\r\n+                              {p.descricao}\r\n+                              <span className=\"mensagem-data\">{p.data_criacao}</span>\r\n+                            </div>\r\n+                          </a>\r\n+                        </div>\r\n+                      </li>\r\n+                    ))\r\n+                  )}\r\n+                </ul>\r\n+              </div>\r\n+              <div className=\"notification-footer\">\r\n+                <span>VEJA TODAS AS MENSAGENS</span>\r\n+              </div>\r\n+            </DropdownInfo>\r\n+          </div>\r\n+          <div className=\"p-2\">\r\n+           {consultas.length > 0 && (\r\n+              <span className=\"badge badge-warning  \" id=\"avisos_consultas\">\r\n+                {consultas.length}\r\n+              </span>\r\n+            )}\r\n+            <DropdownInfo dropInfo={\"atividades\"} iconClass={\"ti ti-bell\"} idDrop={\"activityDropdown\"} value=\"atividades\"\r\n+              isOpen={dropdownAtivado === \"atividades\"} onToggle={() => handleDropdown(\"atividades\")} styleIcon={\"icon_alert\"}>\r\n+              <div className=\"notification-header\">\r\n+                <p>ATIVIDADES RECENTES</p>\r\n+              </div>\r\n+              <div className=\"notificationSpace\">\r\n+                <ul className=\"lista_mensagens\">\r\n+                 {consultas.map((c) => (\r\n+                    <li key={c.codCons} className=\"mensagem_individual\">\r\n+                      <div className=\"mensagem-consulta\">\r\n+                        <span className=\"icone-consulta\"><i className=\"ti ti-check\" id=\"icone_consulta\"></i></span>\r\n+                        <a className=\"link_pendencias\" href=\"https://ambteste.credtudo.com.br/painel/atividades-recentes.php  \">\r\n+                          <div className=\"mensagem-texto\">\r\n+                            {c.nome}\r\n+                            {c.item && c.valor && (\r\n+                              <span> • {c.item}: {c.valor}</span>\r\n+                            )}\r\n+                            <span className=\"mensagem-data\">{c.hora}</span>\r\n+                          </div>\r\n+                        </a>\r\n+                      </div>\r\n+                    </li>\r\n+                  ))}\r\n+                </ul>\r\n+              </div>\r\n+              <div className=\"notification-footer\">\r\n+                <span>VEJA TODAS AS ATIVIDADES RECENTES</span>\r\n+              </div>\r\n+            </DropdownInfo>\r\n+          </div>\r\n+          <div className=\"p-6\">\r\n+            <DropdownInfo dropInfo={\"dados_usuario\"} imagem={\"img-circle\"} src={\"https://ambteste.credtudo.com.br/assets/img/profile.jpg  \"} idDrop={\"userDropdown\"}\r\n+              value=\"dados_usuario\" isOpen={dropdownAtivado === \"dados_usuario\"} onToggle={() => handleDropdown(\"dados_usuario\")}>\r\n+              <div className=\"topnav-dropdown-header\" id=\"user-info-header\">\r\n+                <span>{emailUser}</span>\r\n+              </div>\r\n+              <li id=\"li-user\">\r\n+                <a className=\"meus-dados\" >\r\n+                  <i className=\"ti ti-user\" id=\"icones\"></i><span>Usuário</span>\r\n+                </a>\r\n+              </li>\r\n+              <li id=\"li-user\">\r\n+                <a className=\"meus-dados\" >\r\n+                  <i className=\"ti ti-lock\" id=\"icones\"></i><span>Alterar Senha</span>\r\n+                </a>\r\n+              </li>\r\n+              <li id=\"li-user\">\r\n+                <a className=\"meus-dados\" href=\"https://ambteste.credtudo.com.br/painel/config-empresa.php  \" >\r\n+                  <i className=\"ti ti-settings\" id=\"icones\"></i><span>Configurações</span>\r\n+                </a>\r\n+              </li>\r\n+              <li id=\"li-user\">\r\n+                <a className=\"meus-dados\" href=\"https://ambteste.credtudo.com.br/vistoriago/  \">\r\n+                  <i className=\"ti ti-settings\" id=\"icones\"></i><span>Vistoria GO!</span>\r\n+                </a>\r\n+              </li>\r\n+              <li id=\"li-user\">\r\n+                <a className=\"meus-dados\" href=\"https://ambteste.credtudo.com.br/painel/Agendamento/ContaBancaria  \" >\r\n+                  <i className=\"ti ti-money\" id=\"icones\" ></i><span>Dados bancários</span>\r\n+                </a>\r\n+              </li>\r\n+              <div className=\"user-info-footer\"  >\r\n+                <a className=\"meus-dados\" href=\"https://ambteste.credtudo.com.br/  \" ></a>\r\n+                <i className=\"ti ti-shift-right\" id=\"icones\"></i><span>Sair</span>\r\n+              </div>\r\n+            </DropdownInfo>\r\n+          </div>\r\n+        </div>\r\n+        <ModalCam />\r\n+      </header>\r\n+      <div className=\"menu_container\">\r\n+        {showSidebar && (\r\n+          <Sidebar id=\"sidebar\"></Sidebar>\r\n+        )}\r\n+        <ContainerSecundario >\r\n+          <BrowserRouter>\r\n+            <Routes>\r\n+              <Route path=\"/\" element={<Home />} />\r\n+\r\n+              {/* Rotas do LOJISTA – com escopo isolado */}\r\n+              <Route\r\n+                path=\"/lojista\"\r\n+                element={\r\n+                  <LojistaProvider endpointLojista={`${API_BASE_URL}/auth/session-info`}>\r\n+                    <LojistaLayout />\r\n+                  </LojistaProvider>\r\n+                }\r\n+              >\r\n+                <Route index element={<Lojista />} />\r\n+                <Route path=\"registrar_venda\" element={<RegistrarVenda />} />\r\n+                <Route path=\"cadastrar_vendedor\" element={<CadastrarVendedor />} />\r\n+                <Route path=\"solicitar_liberacao\" element={<SolicitarLiberacao />} />\r\n+                <Route path=\"consultar_venda\" element={<ConsultarVenda />} />\r\n+                <Route path=\"estoque_loja\" element={<EstoqueLoja/>}/>\r\n+              </Route>\r\n+              {/*Rotas Administracao*/}\r\n+              <Route path=\"/administracao\" element={<Administracao />} />\r\n+              <Route path=\"/cadastrar_loja\" element={<CadastroLoja />} />\r\n+              <Route path=\"/cadastro_financeira\" element={<CadastroFinanceira />} />\r\n+              <Route path=\"/liberar_veiculo\" element={<LiberarVeiculo />} />\r\n+              <Route path=\"/baixar_veiculo\" element={<BaixarVeiculo />} />\r\n+              <Route path=\"/relatorios_movimentacao\" element={<RelatoriosMovimentacao />} />\r\n+              <Route path=\"/historico\" element={<HistoricoVeiculo />} />\r\n+              {/*Rotas Gestao de Estoque*/}\r\n+              <Route path=\"/gestao_estoque\" element={<GestaoEstoque />} />\r\n+              <Route path=\"/relatorio_estoque\" element={<RelatorioEstoque />} />\r\n+              <Route path=\"/cadastro_veiculo\" element={<CadastroVeiculo />} />\r\n+              <Route path=\"/cadastro_veiculo_bin\" element={<CadastroVeiculoBIN />} />\r\n+              <Route path=\"/editar_dado\" element={<EditarDado />} />\r\n+              <Route path=\"/dashboard\" element={<Dashboard />} />\r\n+              <Route path=\"/historico_acessos\" element={<HistoricoAcessos />} />\r\n+              <Route path=\"/test_auth\" element={<TestAuthComponent/>}/>\r\n+              {/* Adicione outras rotas conforme necessário */}\r\n+            </Routes>\r\n+          </BrowserRouter>\r\n+        </ContainerSecundario>\r\n+      </div>\r\n+    </ContainerPrincipal >\r\n+\r\n+\r\n+  );\r\n+}\r\n+export default Body;\r\n"
                },
                {
                    "date": 1770060630585,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,296 @@\n+//importações React\r\n+import { BrowserRouter, Routes, Route } from \"react-router-dom\";\r\n+import { useEffect, useRef, useState } from \"react\";\r\n+\r\n+//Importação de estilos\r\n+import \"../../assets/css/thead.css\";\r\n+import \"../../assets/css/themify-icons.css\"\r\n+import \"./Body.css\"\r\n+\r\n+//Importação de componentes\r\n+import Sidebar from \"../../components/sidebar/Sidebar\";\r\n+import ContainerPrincipal from \"../../components/container/ContainerPrincipal\";\r\n+import ContainerSecundario from \"../../components/container/ContainerSecundario\";\r\n+import DropdownInfo from \"../../components/dropdown/DropdownInfo\";\r\n+import ModalCam from \"../../components/modal/ModalCam\";\r\n+import { useGetData } from \"../../services/useGetData\";\r\n+import { usePostNotifications } from \"../../services/usePostNotifications\";\r\n+import { LojistaProvider } from \"../../hooks/LojistaProvider\";\r\n+import LojistaLayout from \"../../hooks/LojistaLayout\";\r\n+\r\n+\r\n+//Importação de páginas\r\n+import RegistrarVenda from \"../lojista/vendas/RegistrarVenda\"\r\n+import Home from \"../home/Home\";\r\n+import Lojista from \"../lojista/Lojista\"\r\n+import GestaoEstoque from \"../estoque/GestaoEstoque\";\r\n+import Administracao from \"../administracao/Administracao\"\r\n+import LiberarVeiculo from \"../administracao/movimentacoes/LiberarVeiculo\";\r\n+import BaixarVeiculo from \"../administracao/movimentacoes/BaixarVeiculo\";\r\n+import HistoricoVeiculo from \"../administracao/historico/HistoricoVeiculo\";\r\n+import RelatoriosMovimentacao from \"../administracao/movimentacoes/RelatoriosMovimentacao\";\r\n+import RelatorioEstoque from \"../estoque/gestao/RelatorioEstoque\";\r\n+import CadastroVeiculoBIN from \"../estoque/gestao/CadastroVeiculoBIN\";\r\n+import CadastroVeiculo from \"../estoque/gestao/CadastroVeiculo\";\r\n+import EditarDado from \"../estoque/gestao/EditarDado\";\r\n+import ConsultarVenda from \"../lojista/vendas/ConsultarVenda\";\r\n+import SolicitarLiberacao from \"../lojista/movimentacoes/SolicitarLiberacao\";\r\n+import CadastrarVendedor from \"../lojista/vendas/CadastrarVendedor\";\r\n+import Dashboard from \"../administracao/dashboard/Dashboard\";\r\n+import HistoricoAcessos from \"../administracao/historico/HistoricoAcessos\";\r\n+import CadastroLoja from \"../administracao/lojista/CadastroLoja\";\r\n+import CadastroFinanceira from \"../administracao/lojista/CadastroFinanceira\";\r\n+import TestAuthComponent from \"../../Test/TestAuthComponent\";\r\n+import EstoqueLoja from \"../lojista/estoque/EstoqueLoja\";\r\n+\r\n+\r\n+//Hook de teste\r\n+/* import { useGetTest } from \"../../services/useGetTest\"; */\r\n+\r\n+\r\n+function Body() {\r\n+  // const [ativRecente, setAtivRecente] = useState(false)\r\n+  const [showSidebar, setShowSidebar] = useState(true);\r\n+  const [dropdownAtivado, setDropdownAtivado] = useState('')\r\n+\r\n+  const navRef = useRef(null)\r\n+\r\n+  //Pega dados do usuário\r\n+  const { data } = useGetData(\"/auth/session-info\")\r\n+  console.log(\"Dados do usuário: \", data)\r\n+\r\n+  /* //Pega dados do usuário - Teste\r\n+  const { data } = useGetTest(\"/auth/session-info\")\r\n+  console.log(\"Dados do usuário: \", data)*/\r\n+\r\n+  const API_BASE_URL = import.meta.env.VITE_API_BASE_URL; //Alterar apos o teste para VITE_API_BASE_URL_TEST\r\n+\r\n+\r\n+  //Pega notificações\r\n+  const { pendencias, consultas } = usePostNotifications(600000)\r\n+  console.log(\"Pendências: \", pendencias)\r\n+  console.log(\"Consultas: \", consultas)\r\n+\r\n+  //Busca o id do usuário master\r\n+  const idUser = data?.userData?.dados?.Master.Codigo || \"\"\r\n+\r\n+  //Busca o tipo usuario\r\n+  const letterUser = data?.userData?.dados?.Login.tipo || \"\"\r\n+  //Verifica se o tipo do login foi M, caso tenha sido imprime na tela M apos o id master\r\n+  const userLetter = letterUser === \"M\" ? \"M\" : \"U\"\r\n+\r\n+  //Definindo o nome de login que será exibido\r\n+  let nameLogin;\r\n+  if (letterUser === \"M\" || letterUser === \"C\") {\r\n+    nameLogin = data?.userData?.dados?.empresa;\r\n+  } else if (letterUser === \"U\") {\r\n+    nameLogin = data?.userData?.dados?.Unidade?.Fantasia;\r\n+  } else {\r\n+    nameLogin = \"Tipo de login não suportado\";\r\n+  }\r\n+\r\n+  //Buscando o id do lojista quando ele existe\r\n+  const idLojista = data?.userData?.dados?.Unidade?.Codigo_sub\r\n+\r\n+  const emailUser = data?.userData?.dados?.Master.Email\r\n+\r\n+\r\n+  //Alterna dropdown\r\n+  const handleDropdown = (value) => {\r\n+    setDropdownAtivado((prev) => (prev === value ? \"\" : value))\r\n+  }\r\n+\r\n+  //Fecha o dropdown ao clicar fora\r\n+  useEffect(() => {\r\n+    function handleClickOutside(event) {\r\n+      if (navRef.current && !navRef.current.contains(event.target)) {\r\n+        setDropdownAtivado(\"\");\r\n+      }\r\n+    }\r\n+    document.addEventListener(\"mousedown\", handleClickOutside);\r\n+    return () => { document.removeEventListener(\"mousedown\", handleClickOutside) };\r\n+  }, [setDropdownAtivado]);\r\n+\r\n+\r\n+\r\n+  const toggleSidebar = () => {\r\n+    setShowSidebar(!showSidebar);\r\n+  }\r\n+\r\n+  return (\r\n+    <ContainerPrincipal className=\"container-principal\" >\r\n+      <header className=\"navbar navbar-expand-lg d-flex align-items-center \" id=\"barra_navegacao\">\r\n+        <div className=\"container-fluid\">\r\n+          {/*Responsável pelo icone que aciona a barra lateral */}\r\n+          <button className=\"navbar-brand icon-bg p-0\" onClick={toggleSidebar} > <i className=\"ti ti-menu\" id=\"botao_menu\" /> </button>\r\n+          { /*Buscar endpoints para variação de usuarios */}\r\n+          <h1 className=\"page-title\">\r\n+            {nameLogin}\r\n+            <span className=\"id-logado\">ID - {idUser} {idLojista} - {userLetter}</span>\r\n+          </h1>\r\n+        </div >\r\n+        <div className=\"d-flex justify-content-end\" ref={navRef}>\r\n+          <div className=\"p-2\">\r\n+           {pendencias.length > 0 && (\r\n+              <span className=\"badge badge-warning\" id=\"avisos_pendencias\">\r\n+                {pendencias.length}\r\n+              </span>\r\n+            )}\r\n+            <DropdownInfo dropInfo={\"avisos\"} iconClass={\"ti ti-email\"} idDrop={\"alertDropdown\"} value=\"mensagens\"\r\n+              isOpen={dropdownAtivado === \"mensagens\"} onToggle={() => handleDropdown(\"mensagens\")} styleIcon={\"icon_message\"}>\r\n+              <div className=\"notification-header\">\r\n+                <p>MENSAGENS</p>\r\n+              </div>\r\n+              <div className=\"notificationSpace\">\r\n+                <ul className=\"lista_mensagens\">\r\n+                  {pendencias.length > 0 && (\r\n+                    pendencias.map((p) => (\r\n+                      <li key={p.id} className=\"mensagem_individual\">\r\n+                        <div className=\"mensagem-alerta\">\r\n+                          <span className=\"icone-alerta\"><i className=\"ti ti-alert\" id=\"icone_alerta\" /></span>\r\n+                          <a className=\"link_pendencias\" href=\"https://ambteste.credtudo.com.br/painel/Agendamento/alertas  \">\r\n+                            <div className=\"mensagem-texto\">\r\n+                              {p.descricao}\r\n+                              <span className=\"mensagem-data\">{p.data_criacao}</span>\r\n+                            </div>\r\n+                          </a>\r\n+                        </div>\r\n+                      </li>\r\n+                    ))\r\n+                  )}\r\n+                </ul>\r\n+              </div>\r\n+              <div className=\"notification-footer\">\r\n+                <span>VEJA TODAS AS MENSAGENS</span>\r\n+              </div>\r\n+            </DropdownInfo>\r\n+          </div>\r\n+          <div className=\"p-2\">\r\n+           {consultas.length > 0 && (\r\n+              <span className=\"badge badge-warning  \" id=\"avisos_consultas\">\r\n+                {consultas.length}\r\n+              </span>\r\n+            )}\r\n+            <DropdownInfo dropInfo={\"atividades\"} iconClass={\"ti ti-bell\"} idDrop={\"activityDropdown\"} value=\"atividades\"\r\n+              isOpen={dropdownAtivado === \"atividades\"} onToggle={() => handleDropdown(\"atividades\")} styleIcon={\"icon_alert\"}>\r\n+              <div className=\"notification-header\">\r\n+                <p>ATIVIDADES RECENTES</p>\r\n+              </div>\r\n+              <div className=\"notificationSpace\">\r\n+                <ul className=\"lista_mensagens\">\r\n+                 {consultas.map((c) => (\r\n+                    <li key={c.codCons} className=\"mensagem_individual\">\r\n+                      <div className=\"mensagem-consulta\">\r\n+                        <span className=\"icone-consulta\"><i className=\"ti ti-check\" id=\"icone_consulta\"></i></span>\r\n+                        <a className=\"link_pendencias\" href=\"https://ambteste.credtudo.com.br/painel/atividades-recentes.php  \">\r\n+                          <div className=\"mensagem-texto\">\r\n+                            {c.nome}\r\n+                            {c.item && c.valor && (\r\n+                              <span> • {c.item}: {c.valor}</span>\r\n+                            )}\r\n+                            <span className=\"mensagem-data\">{c.hora}</span>\r\n+                          </div>\r\n+                        </a>\r\n+                      </div>\r\n+                    </li>\r\n+                  ))}\r\n+                </ul>\r\n+              </div>\r\n+              <div className=\"notification-footer\">\r\n+                <span>VEJA TODAS AS ATIVIDADES RECENTES</span>\r\n+              </div>\r\n+            </DropdownInfo>\r\n+          </div>\r\n+          <div className=\"p-6\">\r\n+            <DropdownInfo dropInfo={\"dados_usuario\"} imagem={\"img-circle\"} src={\"https://ambteste.credtudo.com.br/assets/img/profile.jpg  \"} idDrop={\"userDropdown\"}\r\n+              value=\"dados_usuario\" isOpen={dropdownAtivado === \"dados_usuario\"} onToggle={() => handleDropdown(\"dados_usuario\")}>\r\n+              <div className=\"topnav-dropdown-header\" id=\"user-info-header\">\r\n+                <span>{emailUser}</span>\r\n+              </div>\r\n+              <li id=\"li-user\">\r\n+                <a className=\"meus-dados\" >\r\n+                  <i className=\"ti ti-user\" id=\"icones\"></i><span>Usuário</span>\r\n+                </a>\r\n+              </li>\r\n+              <li id=\"li-user\">\r\n+                <a className=\"meus-dados\" >\r\n+                  <i className=\"ti ti-lock\" id=\"icones\"></i><span>Alterar Senha</span>\r\n+                </a>\r\n+              </li>\r\n+              <li id=\"li-user\">\r\n+                <a className=\"meus-dados\" href=\"https://ambteste.credtudo.com.br/painel/config-empresa.php  \" >\r\n+                  <i className=\"ti ti-settings\" id=\"icones\"></i><span>Configurações</span>\r\n+                </a>\r\n+              </li>\r\n+              <li id=\"li-user\">\r\n+                <a className=\"meus-dados\" href=\"https://ambteste.credtudo.com.br/vistoriago/  \">\r\n+                  <i className=\"ti ti-settings\" id=\"icones\"></i><span>Vistoria GO!</span>\r\n+                </a>\r\n+              </li>\r\n+              <li id=\"li-user\">\r\n+                <a className=\"meus-dados\" href=\"https://ambteste.credtudo.com.br/painel/Agendamento/ContaBancaria  \" >\r\n+                  <i className=\"ti ti-money\" id=\"icones\" ></i><span>Dados bancários</span>\r\n+                </a>\r\n+              </li>\r\n+              <div className=\"user-info-footer\"  >\r\n+                <a className=\"meus-dados\" href=\"https://ambteste.credtudo.com.br/  \" ></a>\r\n+                <i className=\"ti ti-shift-right\" id=\"icones\"></i><span>Sair</span>\r\n+              </div>\r\n+            </DropdownInfo>\r\n+          </div>\r\n+        </div>\r\n+        <ModalCam />\r\n+      </header>\r\n+      <div className=\"menu_container\">\r\n+        {showSidebar && (\r\n+          <Sidebar id=\"sidebar\"></Sidebar>\r\n+        )}\r\n+        <ContainerSecundario >\r\n+          <BrowserRouter>\r\n+            <Routes>\r\n+              <Route path=\"/\" element={<Home />} />\r\n+\r\n+              {/* Rotas do LOJISTA – com escopo isolado */}\r\n+              <Route\r\n+                path=\"/lojista\"\r\n+                element={\r\n+                  <LojistaProvider endpointLojista={`${API_BASE_URL}/auth/session-info`}>\r\n+                    <LojistaLayout />\r\n+                  </LojistaProvider>\r\n+                }\r\n+              >\r\n+                <Route index element={<Lojista />} />\r\n+                <Route path=\"registrar_venda\" element={<RegistrarVenda />} />\r\n+                <Route path=\"cadastrar_vendedor\" element={<CadastrarVendedor />} />\r\n+                <Route path=\"solicitar_liberacao\" element={<SolicitarLiberacao />} />\r\n+                <Route path=\"consultar_venda\" element={<ConsultarVenda />} />\r\n+                <Route path=\"estoque_loja\" element={<EstoqueLoja/>}/>\r\n+              </Route>\r\n+              {/*Rotas Administracao*/}\r\n+              <Route path=\"/administracao\" element={<Administracao />} />\r\n+              <Route path=\"/cadastrar_loja\" element={<CadastroLoja />} />\r\n+              <Route path=\"/cadastro_financeira\" element={<CadastroFinanceira />} />\r\n+              <Route path=\"/liberar_veiculo\" element={<LiberarVeiculo />} />\r\n+              <Route path=\"/baixar_veiculo\" element={<BaixarVeiculo />} />\r\n+              <Route path=\"/relatorios_movimentacao\" element={<RelatoriosMovimentacao />} />\r\n+              <Route path=\"/historico\" element={<HistoricoVeiculo />} />\r\n+              {/*Rotas Gestao de Estoque*/}\r\n+              <Route path=\"/gestao_estoque\" element={<GestaoEstoque />} />\r\n+              <Route path=\"/relatorio_estoque\" element={<RelatorioEstoque />} />\r\n+              <Route path=\"/cadastro_veiculo\" element={<CadastroVeiculo />} />\r\n+              <Route path=\"/cadastro_veiculo_bin\" element={<CadastroVeiculoBIN />} />\r\n+              <Route path=\"/editar_dado\" element={<EditarDado />} />\r\n+              <Route path=\"/dashboard\" element={<Dashboard />} />\r\n+              <Route path=\"/historico_acessos\" element={<HistoricoAcessos />} />\r\n+              <Route path=\"/test_auth\" element={<TestAuthComponent/>}/>\r\n+              {/* Adicione outras rotas conforme necessário */}\r\n+            </Routes>\r\n+          </BrowserRouter>\r\n+        </ContainerSecundario>\r\n+      </div>\r\n+    </ContainerPrincipal >\r\n+\r\n+\r\n+  );\r\n+}\r\n+export default Body;\r\n"
                },
                {
                    "date": 1770061763039,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,296 @@\n+//importações React\r\n+import { BrowserRouter, Routes, Route } from \"react-router-dom\";\r\n+import { useEffect, useRef, useState } from \"react\";\r\n+\r\n+//Importação de estilos\r\n+import \"../../assets/css/thead.css\";\r\n+import \"../../assets/css/themify-icons.css\"\r\n+import \"./Body.css\"\r\n+\r\n+//Importação de componentes\r\n+import Sidebar from \"../../components/sidebar/Sidebar\";\r\n+import ContainerPrincipal from \"../../components/container/ContainerPrincipal\";\r\n+import ContainerSecundario from \"../../components/container/ContainerSecundario\";\r\n+import DropdownInfo from \"../../components/dropdown/DropdownInfo\";\r\n+import ModalCam from \"../../components/modal/ModalCam\";\r\n+import { useGetData } from \"../../services/useGetData\";\r\n+import { usePostNotifications } from \"../../services/usePostNotifications\";\r\n+import { LojistaProvider } from \"../../hooks/LojistaProvider\";\r\n+import LojistaLayout from \"../../hooks/LojistaLayout\";\r\n+\r\n+\r\n+//Importação de páginas\r\n+import RegistrarVenda from \"../lojista/vendas/RegistrarVenda\"\r\n+import Home from \"../home/Home\";\r\n+import Lojista from \"../lojista/Lojista\"\r\n+import GestaoEstoque from \"../estoque/GestaoEstoque\";\r\n+import Administracao from \"../administracao/Administracao\"\r\n+import LiberarVeiculo from \"../administracao/movimentacoes/LiberarVeiculo\";\r\n+import BaixarVeiculo from \"../administracao/movimentacoes/BaixarVeiculo\";\r\n+import HistoricoVeiculo from \"../administracao/historico/HistoricoVeiculo\";\r\n+import RelatoriosMovimentacao from \"../administracao/movimentacoes/RelatoriosMovimentacao\";\r\n+import RelatorioEstoque from \"../estoque/gestao/RelatorioEstoque\";\r\n+import CadastroVeiculoBIN from \"../estoque/gestao/CadastroVeiculoBIN\";\r\n+import CadastroVeiculo from \"../estoque/gestao/CadastroVeiculo\";\r\n+import EditarDado from \"../estoque/gestao/EditarDado\";\r\n+import ConsultarVenda from \"../lojista/vendas/ConsultarVenda\";\r\n+import SolicitarLiberacao from \"../lojista/movimentacoes/SolicitarLiberacao\";\r\n+import CadastrarVendedor from \"../lojista/vendas/CadastrarVendedor\";\r\n+import Dashboard from \"../administracao/dashboard/Dashboard\";\r\n+import HistoricoAcessos from \"../administracao/historico/HistoricoAcessos\";\r\n+import CadastroLoja from \"../administracao/lojista/CadastroLoja\";\r\n+import CadastroFinanceira from \"../administracao/lojista/CadastroFinanceira\";\r\n+import TestAuthComponent from \"../../Test/TestAuthComponent\";\r\n+import EstoqueLoja from \"../lojista/estoque/EstoqueLoja\";\r\n+\r\n+\r\n+//Hook de teste\r\n+/* import { useGetTest } from \"../../services/useGetTest\"; */\r\n+\r\n+\r\n+function Body() {\r\n+  // const [ativRecente, setAtivRecente] = useState(false)\r\n+  const [showSidebar, setShowSidebar] = useState(true);\r\n+  const [dropdownAtivado, setDropdownAtivado] = useState('')\r\n+\r\n+  const navRef = useRef(null)\r\n+\r\n+  //Pega dados do usuário\r\n+  const { data } = useGetData(\"/auth/session-info\")\r\n+  console.log(\"Dados do usuário: \", data)\r\n+\r\n+  /* //Pega dados do usuário - Teste\r\n+  const { data } = useGetTest(\"/auth/session-info\")\r\n+  console.log(\"Dados do usuário: \", data)*/\r\n+\r\n+  const API_BASE_URL = import.meta.env.VITE_API_BASE_URL; //Alterar apos o teste para VITE_API_BASE_URL_TEST\r\n+\r\n+\r\n+  //Pega notificações\r\n+  const { pendencias, consultas } = usePostNotifications(600000)\r\n+  console.log(\"Pendências: \", pendencias)\r\n+  console.log(\"Consultas: \", consultas)\r\n+\r\n+  //Busca o id do usuário master\r\n+  const idUser = data?.userData?.dados?.Master.Codigo || \"\"\r\n+\r\n+  //Busca o tipo usuario\r\n+  const letterUser = data?.userData?.dados?.Login.tipo || \"\"\r\n+  //Verifica se o tipo do login foi M, caso tenha sido imprime na tela M apos o id master\r\n+  const userLetter = letterUser === \"M\" ? \"M\" : \"U\"\r\n+\r\n+  //Definindo o nome de login que será exibido\r\n+  let nameLogin;\r\n+  if (letterUser === \"M\" || letterUser === \"C\" || ) {\r\n+    nameLogin = data?.userData?.dados?.empresa;\r\n+  } else if (letterUser === \"U\") {\r\n+    nameLogin = data?.userData?.dados?.Unidade?.Fantasia;\r\n+  } else {\r\n+    nameLogin = \"Tipo de login não suportado\";\r\n+  }\r\n+\r\n+  //Buscando o id do lojista quando ele existe\r\n+  const idLojista = data?.userData?.dados?.Unidade?.Codigo_sub\r\n+\r\n+  const emailUser = data?.userData?.dados?.Master.Email\r\n+\r\n+\r\n+  //Alterna dropdown\r\n+  const handleDropdown = (value) => {\r\n+    setDropdownAtivado((prev) => (prev === value ? \"\" : value))\r\n+  }\r\n+\r\n+  //Fecha o dropdown ao clicar fora\r\n+  useEffect(() => {\r\n+    function handleClickOutside(event) {\r\n+      if (navRef.current && !navRef.current.contains(event.target)) {\r\n+        setDropdownAtivado(\"\");\r\n+      }\r\n+    }\r\n+    document.addEventListener(\"mousedown\", handleClickOutside);\r\n+    return () => { document.removeEventListener(\"mousedown\", handleClickOutside) };\r\n+  }, [setDropdownAtivado]);\r\n+\r\n+\r\n+\r\n+  const toggleSidebar = () => {\r\n+    setShowSidebar(!showSidebar);\r\n+  }\r\n+\r\n+  return (\r\n+    <ContainerPrincipal className=\"container-principal\" >\r\n+      <header className=\"navbar navbar-expand-lg d-flex align-items-center \" id=\"barra_navegacao\">\r\n+        <div className=\"container-fluid\">\r\n+          {/*Responsável pelo icone que aciona a barra lateral */}\r\n+          <button className=\"navbar-brand icon-bg p-0\" onClick={toggleSidebar} > <i className=\"ti ti-menu\" id=\"botao_menu\" /> </button>\r\n+          { /*Buscar endpoints para variação de usuarios */}\r\n+          <h1 className=\"page-title\">\r\n+            {nameLogin}\r\n+            <span className=\"id-logado\">ID - {idUser} {idLojista} - {userLetter}</span>\r\n+          </h1>\r\n+        </div >\r\n+        <div className=\"d-flex justify-content-end\" ref={navRef}>\r\n+          <div className=\"p-2\">\r\n+           {pendencias.length > 0 && (\r\n+              <span className=\"badge badge-warning\" id=\"avisos_pendencias\">\r\n+                {pendencias.length}\r\n+              </span>\r\n+            )}\r\n+            <DropdownInfo dropInfo={\"avisos\"} iconClass={\"ti ti-email\"} idDrop={\"alertDropdown\"} value=\"mensagens\"\r\n+              isOpen={dropdownAtivado === \"mensagens\"} onToggle={() => handleDropdown(\"mensagens\")} styleIcon={\"icon_message\"}>\r\n+              <div className=\"notification-header\">\r\n+                <p>MENSAGENS</p>\r\n+              </div>\r\n+              <div className=\"notificationSpace\">\r\n+                <ul className=\"lista_mensagens\">\r\n+                  {pendencias.length > 0 && (\r\n+                    pendencias.map((p) => (\r\n+                      <li key={p.id} className=\"mensagem_individual\">\r\n+                        <div className=\"mensagem-alerta\">\r\n+                          <span className=\"icone-alerta\"><i className=\"ti ti-alert\" id=\"icone_alerta\" /></span>\r\n+                          <a className=\"link_pendencias\" href=\"https://ambteste.credtudo.com.br/painel/Agendamento/alertas  \">\r\n+                            <div className=\"mensagem-texto\">\r\n+                              {p.descricao}\r\n+                              <span className=\"mensagem-data\">{p.data_criacao}</span>\r\n+                            </div>\r\n+                          </a>\r\n+                        </div>\r\n+                      </li>\r\n+                    ))\r\n+                  )}\r\n+                </ul>\r\n+              </div>\r\n+              <div className=\"notification-footer\">\r\n+                <span>VEJA TODAS AS MENSAGENS</span>\r\n+              </div>\r\n+            </DropdownInfo>\r\n+          </div>\r\n+          <div className=\"p-2\">\r\n+           {consultas.length > 0 && (\r\n+              <span className=\"badge badge-warning  \" id=\"avisos_consultas\">\r\n+                {consultas.length}\r\n+              </span>\r\n+            )}\r\n+            <DropdownInfo dropInfo={\"atividades\"} iconClass={\"ti ti-bell\"} idDrop={\"activityDropdown\"} value=\"atividades\"\r\n+              isOpen={dropdownAtivado === \"atividades\"} onToggle={() => handleDropdown(\"atividades\")} styleIcon={\"icon_alert\"}>\r\n+              <div className=\"notification-header\">\r\n+                <p>ATIVIDADES RECENTES</p>\r\n+              </div>\r\n+              <div className=\"notificationSpace\">\r\n+                <ul className=\"lista_mensagens\">\r\n+                 {consultas.map((c) => (\r\n+                    <li key={c.codCons} className=\"mensagem_individual\">\r\n+                      <div className=\"mensagem-consulta\">\r\n+                        <span className=\"icone-consulta\"><i className=\"ti ti-check\" id=\"icone_consulta\"></i></span>\r\n+                        <a className=\"link_pendencias\" href=\"https://ambteste.credtudo.com.br/painel/atividades-recentes.php  \">\r\n+                          <div className=\"mensagem-texto\">\r\n+                            {c.nome}\r\n+                            {c.item && c.valor && (\r\n+                              <span> • {c.item}: {c.valor}</span>\r\n+                            )}\r\n+                            <span className=\"mensagem-data\">{c.hora}</span>\r\n+                          </div>\r\n+                        </a>\r\n+                      </div>\r\n+                    </li>\r\n+                  ))}\r\n+                </ul>\r\n+              </div>\r\n+              <div className=\"notification-footer\">\r\n+                <span>VEJA TODAS AS ATIVIDADES RECENTES</span>\r\n+              </div>\r\n+            </DropdownInfo>\r\n+          </div>\r\n+          <div className=\"p-6\">\r\n+            <DropdownInfo dropInfo={\"dados_usuario\"} imagem={\"img-circle\"} src={\"https://ambteste.credtudo.com.br/assets/img/profile.jpg  \"} idDrop={\"userDropdown\"}\r\n+              value=\"dados_usuario\" isOpen={dropdownAtivado === \"dados_usuario\"} onToggle={() => handleDropdown(\"dados_usuario\")}>\r\n+              <div className=\"topnav-dropdown-header\" id=\"user-info-header\">\r\n+                <span>{emailUser}</span>\r\n+              </div>\r\n+              <li id=\"li-user\">\r\n+                <a className=\"meus-dados\" >\r\n+                  <i className=\"ti ti-user\" id=\"icones\"></i><span>Usuário</span>\r\n+                </a>\r\n+              </li>\r\n+              <li id=\"li-user\">\r\n+                <a className=\"meus-dados\" >\r\n+                  <i className=\"ti ti-lock\" id=\"icones\"></i><span>Alterar Senha</span>\r\n+                </a>\r\n+              </li>\r\n+              <li id=\"li-user\">\r\n+                <a className=\"meus-dados\" href=\"https://ambteste.credtudo.com.br/painel/config-empresa.php  \" >\r\n+                  <i className=\"ti ti-settings\" id=\"icones\"></i><span>Configurações</span>\r\n+                </a>\r\n+              </li>\r\n+              <li id=\"li-user\">\r\n+                <a className=\"meus-dados\" href=\"https://ambteste.credtudo.com.br/vistoriago/  \">\r\n+                  <i className=\"ti ti-settings\" id=\"icones\"></i><span>Vistoria GO!</span>\r\n+                </a>\r\n+              </li>\r\n+              <li id=\"li-user\">\r\n+                <a className=\"meus-dados\" href=\"https://ambteste.credtudo.com.br/painel/Agendamento/ContaBancaria  \" >\r\n+                  <i className=\"ti ti-money\" id=\"icones\" ></i><span>Dados bancários</span>\r\n+                </a>\r\n+              </li>\r\n+              <div className=\"user-info-footer\"  >\r\n+                <a className=\"meus-dados\" href=\"https://ambteste.credtudo.com.br/  \" ></a>\r\n+                <i className=\"ti ti-shift-right\" id=\"icones\"></i><span>Sair</span>\r\n+              </div>\r\n+            </DropdownInfo>\r\n+          </div>\r\n+        </div>\r\n+        <ModalCam />\r\n+      </header>\r\n+      <div className=\"menu_container\">\r\n+        {showSidebar && (\r\n+          <Sidebar id=\"sidebar\"></Sidebar>\r\n+        )}\r\n+        <ContainerSecundario >\r\n+          <BrowserRouter>\r\n+            <Routes>\r\n+              <Route path=\"/\" element={<Home />} />\r\n+\r\n+              {/* Rotas do LOJISTA – com escopo isolado */}\r\n+              <Route\r\n+                path=\"/lojista\"\r\n+                element={\r\n+                  <LojistaProvider endpointLojista={`${API_BASE_URL}/auth/session-info`}>\r\n+                    <LojistaLayout />\r\n+                  </LojistaProvider>\r\n+                }\r\n+              >\r\n+                <Route index element={<Lojista />} />\r\n+                <Route path=\"registrar_venda\" element={<RegistrarVenda />} />\r\n+                <Route path=\"cadastrar_vendedor\" element={<CadastrarVendedor />} />\r\n+                <Route path=\"solicitar_liberacao\" element={<SolicitarLiberacao />} />\r\n+                <Route path=\"consultar_venda\" element={<ConsultarVenda />} />\r\n+                <Route path=\"estoque_loja\" element={<EstoqueLoja/>}/>\r\n+              </Route>\r\n+              {/*Rotas Administracao*/}\r\n+              <Route path=\"/administracao\" element={<Administracao />} />\r\n+              <Route path=\"/cadastrar_loja\" element={<CadastroLoja />} />\r\n+              <Route path=\"/cadastro_financeira\" element={<CadastroFinanceira />} />\r\n+              <Route path=\"/liberar_veiculo\" element={<LiberarVeiculo />} />\r\n+              <Route path=\"/baixar_veiculo\" element={<BaixarVeiculo />} />\r\n+              <Route path=\"/relatorios_movimentacao\" element={<RelatoriosMovimentacao />} />\r\n+              <Route path=\"/historico\" element={<HistoricoVeiculo />} />\r\n+              {/*Rotas Gestao de Estoque*/}\r\n+              <Route path=\"/gestao_estoque\" element={<GestaoEstoque />} />\r\n+              <Route path=\"/relatorio_estoque\" element={<RelatorioEstoque />} />\r\n+              <Route path=\"/cadastro_veiculo\" element={<CadastroVeiculo />} />\r\n+              <Route path=\"/cadastro_veiculo_bin\" element={<CadastroVeiculoBIN />} />\r\n+              <Route path=\"/editar_dado\" element={<EditarDado />} />\r\n+              <Route path=\"/dashboard\" element={<Dashboard />} />\r\n+              <Route path=\"/historico_acessos\" element={<HistoricoAcessos />} />\r\n+              <Route path=\"/test_auth\" element={<TestAuthComponent/>}/>\r\n+              {/* Adicione outras rotas conforme necessário */}\r\n+            </Routes>\r\n+          </BrowserRouter>\r\n+        </ContainerSecundario>\r\n+      </div>\r\n+    </ContainerPrincipal >\r\n+\r\n+\r\n+  );\r\n+}\r\n+export default Body;\r\n"
                }
            ],
            "date": 1770045352220,
            "name": "Commit-0",
            "content": "//importações React\r\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\n\r\n//Importação de estilos\r\nimport \"../../assets/css/thead.css\";\r\nimport \"../../assets/css/themify-icons.css\"\r\nimport \"./Body.css\"\r\n\r\n//Importação de componentes\r\nimport Sidebar from \"../../components/sidebar/Sidebar\";\r\nimport ContainerPrincipal from \"../../components/container/ContainerPrincipal\";\r\nimport ContainerSecundario from \"../../components/container/ContainerSecundario\";\r\nimport DropdownInfo from \"../../components/dropdown/DropdownInfo\";\r\nimport ModalCam from \"../../components/modal/ModalCam\";\r\nimport { useGetData } from \"../../services/useGetData\";\r\nimport { usePostNotifications } from \"../../services/usePostNotifications\";\r\nimport { LojistaProvider } from \"../../hooks/LojistaProvider\";\r\nimport LojistaLayout from \"../../hooks/LojistaLayout\";\r\n\r\n\r\n//Importação de páginas\r\nimport RegistrarVenda from \"../lojista/vendas/RegistrarVenda\"\r\nimport Home from \"../home/Home\";\r\nimport Lojista from \"../lojista/Lojista\"\r\nimport GestaoEstoque from \"../estoque/GestaoEstoque\";\r\nimport Administracao from \"../administracao/Administracao\"\r\nimport LiberarVeiculo from \"../administracao/movimentacoes/LiberarVeiculo\";\r\nimport BaixarVeiculo from \"../administracao/movimentacoes/BaixarVeiculo\";\r\nimport HistoricoVeiculo from \"../administracao/historico/HistoricoVeiculo\";\r\nimport RelatoriosMovimentacao from \"../administracao/movimentacoes/RelatoriosMovimentacao\";\r\nimport RelatorioEstoque from \"../estoque/gestao/RelatorioEstoque\";\r\nimport CadastroVeiculoBIN from \"../estoque/gestao/CadastroVeiculoBIN\";\r\nimport CadastroVeiculo from \"../estoque/gestao/CadastroVeiculo\";\r\nimport EditarDado from \"../estoque/gestao/EditarDado\";\r\nimport ConsultarVenda from \"../lojista/vendas/ConsultarVenda\";\r\nimport SolicitarLiberacao from \"../lojista/movimentacoes/SolicitarLiberacao\";\r\nimport CadastrarVendedor from \"../lojista/vendas/CadastrarVendedor\";\r\nimport Dashboard from \"../administracao/dashboard/Dashboard\";\r\nimport HistoricoAcessos from \"../administracao/historico/HistoricoAcessos\";\r\nimport CadastroLoja from \"../administracao/lojista/CadastroLoja\";\r\nimport CadastroFinanceira from \"../administracao/lojista/CadastroFinanceira\";\r\nimport TestAuthComponent from \"../../Test/TestAuthComponent\";\r\nimport EstoqueLoja from \"../lojista/estoque/EstoqueLoja\";\r\n\r\n\r\n//Hook de teste\r\n/* import { useGetTest } from \"../../services/useGetTest\"; */\r\n\r\n\r\nfunction Body() {\r\n  // const [ativRecente, setAtivRecente] = useState(false)\r\n  const [showSidebar, setShowSidebar] = useState(true);\r\n  const [dropdownAtivado, setDropdownAtivado] = useState('')\r\n\r\n  const navRef = useRef(null)\r\n\r\n  //Pega dados do usuário\r\n  const { data } = useGetData(\"/auth/session-info\")\r\n  console.log(\"Dados do usuário: \", data)\r\n\r\n  /* //Pega dados do usuário - Teste\r\n  const { data } = useGetTest(\"/auth/session-info\")\r\n  console.log(\"Dados do usuário: \", data)*/\r\n\r\n  const API_BASE_URL = import.meta.env.VITE_API_BASE_URL; //Alterar apos o teste para VITE_API_BASE_URL_TEST\r\n\r\n\r\n  //Pega notificações\r\n  const { pendencias, consultas } = usePostNotifications(600000)\r\n  console.log(\"Pendências: \", pendencias)\r\n  console.log(\"Consultas: \", consultas)\r\n\r\n  //Busca o id do usuário master\r\n  const idUser = data?.userData?.dados?.Master.Codigo || \"\"\r\n\r\n  //Busca o tipo usuario\r\n  const letterUser = data?.userData?.dados?.Login.tipo || \"\"\r\n  //Verifica se o tipo do login foi M, caso tenha sido imprime na tela M apos o id master\r\n  const userLetter = letterUser === \"M\" ? \"M\" : \"C\"\r\n\r\n  //Definindo o nome de login que será exibido\r\n  let nameLogin;\r\n  if (letterUser === \"M\") {\r\n    nameLogin = data?.userData?.dados?.empresa;\r\n  } else if (letterUser === \"C\") {\r\n    nameLogin = data?.userData?.dados?.Unidade?.Fantasia;\r\n  } else {\r\n    nameLogin = \"Tipo de login não suportado\";\r\n  }\r\n\r\n  //Buscando o id do lojista quando ele existe\r\n  const idLojista = data?.userData?.dados?.Unidade?.Codigo_sub\r\n\r\n  const emailUser = data?.userData?.dados?.Master.Email\r\n\r\n\r\n  //Alterna dropdown\r\n  const handleDropdown = (value) => {\r\n    setDropdownAtivado((prev) => (prev === value ? \"\" : value))\r\n  }\r\n\r\n  //Fecha o dropdown ao clicar fora\r\n  useEffect(() => {\r\n    function handleClickOutside(event) {\r\n      if (navRef.current && !navRef.current.contains(event.target)) {\r\n        setDropdownAtivado(\"\");\r\n      }\r\n    }\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => { document.removeEventListener(\"mousedown\", handleClickOutside) };\r\n  }, [setDropdownAtivado]);\r\n\r\n\r\n\r\n  const toggleSidebar = () => {\r\n    setShowSidebar(!showSidebar);\r\n  }\r\n\r\n  return (\r\n    <ContainerPrincipal className=\"container-principal\" >\r\n      <header className=\"navbar navbar-expand-lg d-flex align-items-center \" id=\"barra_navegacao\">\r\n        <div className=\"container-fluid\">\r\n          {/*Responsável pelo icone que aciona a barra lateral */}\r\n          <button className=\"navbar-brand icon-bg p-0\" onClick={toggleSidebar} > <i className=\"ti ti-menu\" id=\"botao_menu\" /> </button>\r\n          { /*Buscar endpoints para variação de usuarios */}\r\n          <h1 className=\"page-title\">\r\n            {nameLogin}\r\n            <span className=\"id-logado\">ID - {idUser} {idLojista} - {userLetter}</span>\r\n          </h1>\r\n        </div >\r\n        <div className=\"d-flex justify-content-end\" ref={navRef}>\r\n          <div className=\"p-2\">\r\n           {pendencias.length > 0 && (\r\n              <span className=\"badge badge-warning\" id=\"avisos_pendencias\">\r\n                {pendencias.length}\r\n              </span>\r\n            )}\r\n            <DropdownInfo dropInfo={\"avisos\"} iconClass={\"ti ti-email\"} idDrop={\"alertDropdown\"} value=\"mensagens\"\r\n              isOpen={dropdownAtivado === \"mensagens\"} onToggle={() => handleDropdown(\"mensagens\")} styleIcon={\"icon_message\"}>\r\n              <div className=\"notification-header\">\r\n                <p>MENSAGENS</p>\r\n              </div>\r\n              <div className=\"notificationSpace\">\r\n                <ul className=\"lista_mensagens\">\r\n                  {pendencias.length > 0 && (\r\n                    pendencias.map((p) => (\r\n                      <li key={p.id} className=\"mensagem_individual\">\r\n                        <div className=\"mensagem-alerta\">\r\n                          <span className=\"icone-alerta\"><i className=\"ti ti-alert\" id=\"icone_alerta\" /></span>\r\n                          <a className=\"link_pendencias\" href=\"https://ambteste.credtudo.com.br/painel/Agendamento/alertas  \">\r\n                            <div className=\"mensagem-texto\">\r\n                              {p.descricao}\r\n                              <span className=\"mensagem-data\">{p.data_criacao}</span>\r\n                            </div>\r\n                          </a>\r\n                        </div>\r\n                      </li>\r\n                    ))\r\n                  )}\r\n                </ul>\r\n              </div>\r\n              <div className=\"notification-footer\">\r\n                <span>VEJA TODAS AS MENSAGENS</span>\r\n              </div>\r\n            </DropdownInfo>\r\n          </div>\r\n          <div className=\"p-2\">\r\n           {consultas.length > 0 && (\r\n              <span className=\"badge badge-warning  \" id=\"avisos_consultas\">\r\n                {consultas.length}\r\n              </span>\r\n            )}\r\n            <DropdownInfo dropInfo={\"atividades\"} iconClass={\"ti ti-bell\"} idDrop={\"activityDropdown\"} value=\"atividades\"\r\n              isOpen={dropdownAtivado === \"atividades\"} onToggle={() => handleDropdown(\"atividades\")} styleIcon={\"icon_alert\"}>\r\n              <div className=\"notification-header\">\r\n                <p>ATIVIDADES RECENTES</p>\r\n              </div>\r\n              <div className=\"notificationSpace\">\r\n                <ul className=\"lista_mensagens\">\r\n                 {consultas.map((c) => (\r\n                    <li key={c.codCons} className=\"mensagem_individual\">\r\n                      <div className=\"mensagem-consulta\">\r\n                        <span className=\"icone-consulta\"><i className=\"ti ti-check\" id=\"icone_consulta\"></i></span>\r\n                        <a className=\"link_pendencias\" href=\"https://ambteste.credtudo.com.br/painel/atividades-recentes.php  \">\r\n                          <div className=\"mensagem-texto\">\r\n                            {c.nome}\r\n                            {c.item && c.valor && (\r\n                              <span> • {c.item}: {c.valor}</span>\r\n                            )}\r\n                            <span className=\"mensagem-data\">{c.hora}</span>\r\n                          </div>\r\n                        </a>\r\n                      </div>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n              <div className=\"notification-footer\">\r\n                <span>VEJA TODAS AS ATIVIDADES RECENTES</span>\r\n              </div>\r\n            </DropdownInfo>\r\n          </div>\r\n          <div className=\"p-6\">\r\n            <DropdownInfo dropInfo={\"dados_usuario\"} imagem={\"img-circle\"} src={\"https://ambteste.credtudo.com.br/assets/img/profile.jpg  \"} idDrop={\"userDropdown\"}\r\n              value=\"dados_usuario\" isOpen={dropdownAtivado === \"dados_usuario\"} onToggle={() => handleDropdown(\"dados_usuario\")}>\r\n              <div className=\"topnav-dropdown-header\" id=\"user-info-header\">\r\n                <span>{emailUser}</span>\r\n              </div>\r\n              <li id=\"li-user\">\r\n                <a className=\"meus-dados\" >\r\n                  <i className=\"ti ti-user\" id=\"icones\"></i><span>Usuário</span>\r\n                </a>\r\n              </li>\r\n              <li id=\"li-user\">\r\n                <a className=\"meus-dados\" >\r\n                  <i className=\"ti ti-lock\" id=\"icones\"></i><span>Alterar Senha</span>\r\n                </a>\r\n              </li>\r\n              <li id=\"li-user\">\r\n                <a className=\"meus-dados\" href=\"https://ambteste.credtudo.com.br/painel/config-empresa.php  \" >\r\n                  <i className=\"ti ti-settings\" id=\"icones\"></i><span>Configurações</span>\r\n                </a>\r\n              </li>\r\n              <li id=\"li-user\">\r\n                <a className=\"meus-dados\" href=\"https://ambteste.credtudo.com.br/vistoriago/  \">\r\n                  <i className=\"ti ti-settings\" id=\"icones\"></i><span>Vistoria GO!</span>\r\n                </a>\r\n              </li>\r\n              <li id=\"li-user\">\r\n                <a className=\"meus-dados\" href=\"https://ambteste.credtudo.com.br/painel/Agendamento/ContaBancaria  \" >\r\n                  <i className=\"ti ti-money\" id=\"icones\" ></i><span>Dados bancários</span>\r\n                </a>\r\n              </li>\r\n              <div className=\"user-info-footer\"  >\r\n                <a className=\"meus-dados\" href=\"https://ambteste.credtudo.com.br/  \" ></a>\r\n                <i className=\"ti ti-shift-right\" id=\"icones\"></i><span>Sair</span>\r\n              </div>\r\n            </DropdownInfo>\r\n          </div>\r\n        </div>\r\n        <ModalCam />\r\n      </header>\r\n      <div className=\"menu_container\">\r\n        {showSidebar && (\r\n          <Sidebar id=\"sidebar\"></Sidebar>\r\n        )}\r\n        <ContainerSecundario >\r\n          <BrowserRouter>\r\n            <Routes>\r\n              <Route path=\"/\" element={<Home />} />\r\n\r\n              {/* Rotas do LOJISTA – com escopo isolado */}\r\n              <Route\r\n                path=\"/lojista\"\r\n                element={\r\n                  <LojistaProvider endpointLojista={`${API_BASE_URL}/auth/session-info`}>\r\n                    <LojistaLayout />\r\n                  </LojistaProvider>\r\n                }\r\n              >\r\n                <Route index element={<Lojista />} />\r\n                <Route path=\"registrar_venda\" element={<RegistrarVenda />} />\r\n                <Route path=\"cadastrar_vendedor\" element={<CadastrarVendedor />} />\r\n                <Route path=\"solicitar_liberacao\" element={<SolicitarLiberacao />} />\r\n                <Route path=\"consultar_venda\" element={<ConsultarVenda />} />\r\n                <Route path=\"estoque_loja\" element={<EstoqueLoja/>}/>\r\n              </Route>\r\n              {/*Rotas Administracao*/}\r\n              <Route path=\"/administracao\" element={<Administracao />} />\r\n              <Route path=\"/cadastrar_loja\" element={<CadastroLoja />} />\r\n              <Route path=\"/cadastro_financeira\" element={<CadastroFinanceira />} />\r\n              <Route path=\"/liberar_veiculo\" element={<LiberarVeiculo />} />\r\n              <Route path=\"/baixar_veiculo\" element={<BaixarVeiculo />} />\r\n              <Route path=\"/relatorios_movimentacao\" element={<RelatoriosMovimentacao />} />\r\n              <Route path=\"/historico\" element={<HistoricoVeiculo />} />\r\n              {/*Rotas Gestao de Estoque*/}\r\n              <Route path=\"/gestao_estoque\" element={<GestaoEstoque />} />\r\n              <Route path=\"/relatorio_estoque\" element={<RelatorioEstoque />} />\r\n              <Route path=\"/cadastro_veiculo\" element={<CadastroVeiculo />} />\r\n              <Route path=\"/cadastro_veiculo_bin\" element={<CadastroVeiculoBIN />} />\r\n              <Route path=\"/editar_dado\" element={<EditarDado />} />\r\n              <Route path=\"/dashboard\" element={<Dashboard />} />\r\n              <Route path=\"/historico_acessos\" element={<HistoricoAcessos />} />\r\n              <Route path=\"/test_auth\" element={<TestAuthComponent/>}/>\r\n              {/* Adicione outras rotas conforme necessário */}\r\n            </Routes>\r\n          </BrowserRouter>\r\n        </ContainerSecundario>\r\n      </div>\r\n    </ContainerPrincipal >\r\n\r\n\r\n  );\r\n}\r\nexport default Body;\r\n"
        }
    ]
}